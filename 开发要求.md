# 开发要求
## 任务介绍
我在做安卓开发，并研究如何利用AI来复刻公开的京东APP，但我的复刻无需100%相似，我只需要做到如下几点：
- 1、UI结构基本相似，图标做不到一模一样不要紧，类似即可。
- 2、不需要做出APP的所有页面，例如京东APP，我们只做app需实现的任务用到的典型页面就可以了，其他的页面，比如小视频、秒送页面，我们全部设置为空页面，只保留一个入口给后续开发接入，暂时不需要处理。
- 3、不需要实现动态，例如不需要实现动态数据，商品列表、店铺信息等全部固定死。
- 4、不需要数据库，但是需要保存重要的信号（这些信号我会指定），如购物车商品、订单状态
- 5、不需要登录和联网，仅为本地演示使用
- 6、开发过程，可以考虑截图给AI，让AI实现开发任务。
- 7、没有任何限制，对框架等的选取完全取决于开发者习惯
- 8、不需要通知权限等复杂的东西，至多需要下保存图片到本地、读取相册这样的权限

## 任务要求
1. 开发的时候可以采取逐步开发的策略，慢慢补充需求，慢慢新增数据字段等
2. 避免单个文件代码过长，**必须要遵循MVP模式**
3. 按照指定的页面结构、参考给定的截图作为UI设计指导
4. 严格按照已经定义好的数据结构`app\src\main\java\com\example\MyJD\model`和已有的数据`app\src\main\assets\data`
5. 按照用户要求进行开发，除非用户指定，否则不要引入新的内容。
    - 你只需要参考我给你的截图，**不要脑补**截图中各个按钮点击后会达到的效果。
    - ***截图里面的信息（例如人的名字、人的头像）不必参考***，因为我们自己预设了已有的数据`app\src\main\assets\data`
6. UI中，各个图标若找不到合适的，可以用emoji表情代替。但优先考虑`androidx.compose.material.icons.Icons, androidx.compose.material.icons.filled.AccountCircle`等
7. 严禁执行删除文件等危险操作。
8. 每当你修改完代码，记得更新`README.md`文件，并且确定build正常了再交付给我。禁止修改`需求.md`.
9. 如果你需要图片支持，请给我反馈，告诉我需要什么图片。如果你使用了我给你的图片，记得把图片名改为一个可读的名字，便于后期维护。

## 页面树
```json
{
   "MainActivity": [
      "HomeTab/ProductDetailActivity/ProductSpecDialog/SettleActivity", 
      "VideoTab",
      "ChatTab/ChatDetailActivity",
      "CartTab",
      "MeTab/OrderActivity"
   ]
}

```

## 已完成的页面
'''
1. HomeTab
2. ChatTab
3. CartTab
4. MeTab
5. ProductDetailActivity
6. ProductSpecDialog
7. OrderActivity
'''

## 可参考的截图
1. UIReference/SettleActivity参考1.png
2. UIReference/SettleActivity参考2.png

## 你当前的任务：开发 SettleActivity 页面

### 页面要素
1. **顶部导航栏**
    - 返回按钮（←）
    - 标题：“自己买”
    - 右侧按钮：“送朋友”（仅展示UI，不实现功能）

2. **收货地址模块**
    - 默认显示当前用户的收货地址信息：
        - 地址标签（“默认”）
        - 收货人姓名 + 电话号码（中间四位用“****”代替）
        - 地址详情（如“湖北武汉市江夏区 武汉纺织大学（阳光校区）-北门”）
    - 点击地址区域可跳转到地址选择页（暂不实现逻辑，仅Toast提示“切换地址”）。

3. **商品信息模块**
    - 店铺信息（例如：“京东自营”）
    - 商品卡片：
        - 商品缩略图
        - 商品名称（如 “Apple/苹果 iPhone 15 (A3092) 128GB 蓝色”）
        - 商品规格（颜色、容量）
        - 商品单价（如 “¥3899”）
        - 数量选择控件（“-” “1” “+”）
        - 下方附带“7天无理由退货”、“7天价保”等说明文字
    - 商品价格右对齐，红色字体显示。

4. **服务与配送模块**
    - 服务：展示“可选1年 AppleCare+ 共5项”
    - 配送：展示配送方式“京东快递”，以及预计送达时间（如“10月23日 [周四] 09:00–21:00”）
    - 收货方式：展示“送货上门”，点击时弹出Toast提示“功能开发中”。

5. **价格明细模块**
    - 商品金额：展示商品总价（¥3899.00）
    - 运费：固定为¥0.00
    - 优惠券：右侧显示“1张可用”，点击弹出Toast提示“暂不支持使用优惠券”。
    - 最下方展示“合计：¥3899.00”，红色字体突出显示。

6. **支付方式模块（简化版）**
    - 仅展示微信支付一项：
        - 图标 + 文本 “微信支付”
        - 选中状态为默认勾选（圆形选中标识）
    - 其他支付选项（京东白条、银行卡、余额支付）全部删除。

7. **底部结算栏**
    - 左侧：总金额（红色字体，字体加粗）
    - 右侧：红色按钮 “立即支付”
    - 点击“立即支付”按钮后：
        - 弹出Toast提示：“支付成功，正在跳转到订单详情页……”
        - 暂不实现实际跳转逻辑。

---

### 功能要求
1. **页面跳转**
    - 从“立即购买”页面点击确认后 → 跳转进入 `SettleActivity`。
    - 点击左上角返回按钮 → 返回商品详情页。

2. **数量调整**
    - 点击“+”增加商品数量；
    - 点击“-”减少商品数量；
    - 数量最小为1；
    - 每次调整数量后自动更新商品总价与合计金额；
    - Presenter 负责计算价格逻辑，View 仅负责展示。

3. **支付逻辑**
    - 默认选中“微信支付”；
    - 点击“立即支付”按钮时执行模拟支付流程（仅Toast提示）；
    - 后续可扩展为跳转支付成功页面。

4. **数据来源**
    - 页面接收上一个页面传递的商品信息（通过 Intent）：
        - 商品名、规格、单价、图片路径。
    - 若未传入信息，则加载本地测试数据。

---

### 数据示例
```json
{
  "product": {
    "shopName": "京东自营",
    "productName": "Apple/苹果 iPhone 15 (A3092) 128GB 蓝色",
    "spec": "蓝色 | 128GB",
    "price": 3899.00,
    "quantity": 1,
    "image": "drawable/iphone15_blue.png"
  },
  "delivery": {
    "method": "京东快递",
    "time": "10月23日 [周四] 09:00–21:00",
    "receiveType": "送货上门"
  },
  "address": {
    "name": "代嘉仪",
    "phone": "123****1234",
    "location": "湖北武汉市***********",
    "isDefault": true
  }
}
```

### 注意事项
1. UI布局要求
    - 页面整体为垂直滚动结构（ScrollView + LinearLayout）； 
    - 各模块之间留白与圆角一致； 
    - 商品卡片与价格区域使用CardView或背景圆角矩形； 
    - 所有金额字体为红色（#E93B3D）； 
    - 按钮采用渐变红色背景（#FF4141 → #FF7E5F）。
2. 逻辑实现要求
    - Presenter 负责所有业务逻辑（价格计算、按钮响应）； 
    - View 层只负责展示与用户交互； 
    - 所有点击操作均通过 Toast 提示反馈。
3. 扩展性要求
    - 保留后续增加多商品结算、多地址切换、优惠券抵扣等接口； 
    - 模块化设计，每个部分（地址、商品、价格、支付）独立可复用。
4. 优先级
    - 商品展示与金额计算 > 支付按钮交互 > UI优化。

### 文件结构建议
app/
└─ src/
    └─ main/
        ├─ java/com/example/test05/settle/
        │   ├─ SettleActivity.kt
        │   ├─ SettleContract.kt
        │   ├─ SettlePresenter.kt
        │   └─ SettleAdapter.kt
        └─ res/layout/
            ├─ activity_settle.xml
            └─ item_settle_product.xml


### UI参考说明
1. 保持整体布局与示例一致； 
2. 去掉分期支付、礼品卡、白条分期选项细节、银行卡支付模块； 
3. 页面结构简洁、信息清晰； 
4. 确保底部“立即支付”按钮固定悬浮在底部。